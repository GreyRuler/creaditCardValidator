{"version":3,"file":"main.js","mappings":"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","sources":["webpack://homework/./src/ts/CardFormWidget.ts","webpack://homework/./src/ts/app.ts","webpack://homework/./src/ts/utils/change-filter.ts","webpack://homework/./src/ts/utils/validators.ts","webpack://homework/webpack/bootstrap","webpack://homework/webpack/runtime/compat get default export","webpack://homework/webpack/runtime/define property getters","webpack://homework/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["import { isValidation } from './utils/validators';\nimport validationCards from './utils/change-filter';\n\nexport default class CardFormWidget {\n\tprivate parentEl: HTMLElement;\n\n\tprivate element?: HTMLFormElement;\n\n\tprivate submit?: HTMLButtonElement;\n\n\tprivate input?: HTMLInputElement;\n\n\tprivate cards: HTMLElement[] = [];\n\n\tconstructor(parentEl: HTMLElement) {\n\t\tthis.parentEl = parentEl;\n\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.changeValueListener = this.changeValueListener.bind(this);\n\t}\n\n\tstatic get markup() {\n\t\treturn `\n\t\t<ul class=\"cards list-unstyled list-inline\">\n\t\t\t<li class=\"list-inline-item\"><div class=\"card filter visa\" title=\"Visa\"></div></li>\n\t\t\t<li class=\"list-inline-item\"><div class=\"card filter master\" title=\"Mastercard\"></div></li>\n\t\t\t<li class=\"list-inline-item\"><div class=\"card filter mir\" title=\"Mir\"></div></li>\n\t\t</ul>\n\t\t<form id=\"card-form-widget\">\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<input class=\"form-control\" id=\"card_number\" name=\"card_number\" type=\"text\" placeholder=\"Credit card number\" data-original-title=\"\" title=\"\">\n\t\t\t\t<button class=\"btn btn-success\" id=\"submitForm\">Click to Validate</button>\n\t\t\t</div>\n\t\t</form>\n\t\t`;\n\t}\n\n\tstatic get submitSelector() {\n\t\treturn '#submitForm';\n\t}\n\n\tstatic get inputSelector() {\n\t\treturn '#card_number';\n\t}\n\n\tstatic get selector() {\n\t\treturn '#card-form-widget';\n\t}\n\n\tbindToDOM() {\n\t\tthis.parentEl.innerHTML = CardFormWidget.markup;\n\n\t\tthis.element = this.parentEl\n\t\t\t.querySelector(CardFormWidget.selector) || undefined;\n\t\tthis.submit = this.element\n\t\t\t?.querySelector(CardFormWidget.submitSelector) || undefined;\n\t\tthis.input = this.element\n\t\t\t?.querySelector(CardFormWidget.inputSelector) || undefined;\n\t\tthis.cards = Array.from(\n\t\t\tthis.parentEl.querySelectorAll('.card')\n\t\t);\n\n\t\tthis.input?.addEventListener('input', this.changeValueListener);\n\t\tthis.element?.addEventListener('submit', this.onSubmit);\n\t}\n\n\tonSubmit(e: Event) {\n\t\te.preventDefault();\n\n\t\tconst cardNumberInput = this.input;\n\n\t\tif (cardNumberInput && isValidation(cardNumberInput)) {\n\t\t\tcardNumberInput.classList.add('is-valid');\n\t\t\tcardNumberInput.classList.remove('is-invalid');\n\t\t} else {\n\t\t\tcardNumberInput?.classList.add('is-invalid');\n\t\t\tcardNumberInput?.classList.remove('is-valid');\n\t\t}\n\t}\n\n\tchangeValueListener() {\n\t\tconst { input } = this;\n\n\t\tthis.clearFilter();\n\t\tconst selectorCard = validationCards(\n\t\t\tNumber.parseInt(input!.value[0], 10)\n\t\t);\n\n\t\tthis.addFilterExcept(selectorCard);\n\t}\n\n\tclearFilter() {\n\t\tconst { cards } = this;\n\n\t\tcards.forEach((card: HTMLElement) => {\n\t\t\tcard.classList.remove('filter');\n\t\t});\n\t}\n\n\taddFilterExcept(selector: string) {\n\t\tconst { cards } = this;\n\n\t\tcards.forEach((card: HTMLElement) => {\n\t\t\tif (!card.classList.contains(selector)) {\n\t\t\t\tcard.classList.add('filter');\n\t\t\t}\n\t\t});\n\t}\n}\n","import CardFormWidget from './CardFormWidget';\n\nconst container = document.querySelector('#container') as HTMLElement;\nconst form = new CardFormWidget(container);\n\nform.bindToDOM();\n","import { FirstNumberCards } from '../types/firstNumberCards';\nimport { CardsSelectors } from '../types/cardsSelectors';\n\nexport default function validationCards(value: number) {\n\tswitch (value) {\n\t\tcase FirstNumberCards.VISA:\n\t\t\treturn CardsSelectors.VISA;\n\t\tcase FirstNumberCards.MASTER:\n\t\t\treturn CardsSelectors.MASTER;\n\t\tcase FirstNumberCards.MIR:\n\t\t\treturn CardsSelectors.MIR;\n\t\tdefault:\n\t\t\treturn '';\n\t}\n}\n","export function algorithmLuna(cardNumbers: string[]) {\n\tconst isDivisible = cardNumbers.length % 2 === 0 ? 0 : 1;\n\tconst someSum = cardNumbers.reduce((sum: number, numberStr: string, index: number) => {\n\t\tlet number = Number.parseInt(numberStr, 10);\n\t\tif (index % 2 === isDivisible) {\n\t\t\tnumber *= 2;\n\t\t\tif (number > 9) {\n\t\t\t\tnumber -= 9;\n\t\t\t}\n\t\t}\n\t\tsum += number;\n\t\treturn sum;\n\t}, 0);\n\treturn someSum % 10 === 0;\n}\n\nexport function isValidation(input: HTMLInputElement) {\n\treturn algorithmLuna(input.value.split(''));\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"names":["parentEl","cards","this","onSubmit","bind","changeValueListener","bindToDOM","innerHTML","CardFormWidget","markup","element","querySelector","selector","undefined","submit","submitSelector","input","inputSelector","Array","from","querySelectorAll","addEventListener","e","preventDefault","cardNumberInput","isValidation","classList","add","remove","clearFilter","selectorCard","Number","parseInt","value","addFilterExcept","forEach","card","contains","container","document","algorithmLuna","cardNumbers","isDivisible","length","reduce","sum","numberStr","index","number","split","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty"],"sourceRoot":""}